!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).PubSubJS=t()}(this,function(){"use strict";var c,f,t,u=function(n){return"string"==typeof n||n instanceof String};return c={},f=function(n){return c.hasOwnProperty(n)&&c[n]instanceof Array},t=function(n){if(void 0===n&&(n=""),n)delete c[n];else for(var t in c)delete c[t]},{subscribe:function(t,o){if(!u(t))throw Error("Topic has to be a string.");if(!("function"==typeof(n=o)||n instanceof Function))throw Error("Action has to be a function.");var n,r;return f(t)||(c[t]=[]),r=o,c[t].push(r),function(){var n=c[t].indexOf(o);c[t].splice(n,1)}},publish:function(n,t,o){if(void 0===o&&(o=!1),!u(n))throw Error("Topic has to be a string.");var r,e,i;f(n)&&(r=n,e=t,void 0===(i=o)&&(i=!1),i?c[r].forEach(function(n){return n.call(null,e)}):setTimeout(function(){f(r)&&c[r].forEach(function(n){return n.call(null,e)})},0))},clearAllSubscriptions:function(){return t()},clearAllByTopic:function(n){if(!u(n))throw Error("Topic has to be a string.");f(n)&&t(n)},getTopics:function(){return Object.keys(c)}}});
